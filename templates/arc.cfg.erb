[common]
hostname="<%= fqdn %>"
nodecpu="<%= node_cpu %>"
resource_location="<%= resource_location %>"
mail="<%= mail %>"

x509_user_key="/etc/grid-security/hostkey.pem"
x509_user_cert="/etc/grid-security/hostcert.pem"
x509_cert_dir="/etc/grid-security/certificates"
gridmap="/etc/grid-security/grid-mapfile"
lrms="<%= lrms %>"
<%if @lrms == "condor" then -%>
condor_bin_path=/usr/bin
<% elsif @lrms == "sge" then -%>
sge_bin_path="/opt/n1ge6/bin/lx24-x86"
sge_root="/opt/n1ge6"<% end -%>

[grid-manager]
user="root"
controldir="/var/spool/nordugrid/jobstatus"
sessiondir="/scratch/grid"
debug="3"
logfile="<%= log_directory %>/grid/grid-manager.log"
pidfile="<%= run_directory %>/grid/grid-manager.pid"
mail="<%= mail %>"
joblog="<%= log_directory %>/grid/gm-jobs.log"

[gridftpd]
user="root"
debug="3"
logfile="<%= log_directory %>/grid/gridftpd.log"
pidfile="<%= run_directory %>/grid/gridftpd.pid"
port="2811"
allowunknown="no"

[gridftpd/jobs]
path="/jobs"
plugin="jobplugin.so"
allownew="yes"

[infosys]
user="root"
overwrite_config="yes"
port="2135"
debug="1"
slapd_loglevel="0"
registrationlog="<%= log_directory %>/infosys/inforegistration.log"
providerlog="<%= log_directory %>/infosys/infoprovider.log"
provider_loglevel="2"
<%if @enable_glue2 == "true" then -%>
## infosys_glue2 - Enables GLUE2 schema
infosys_glue2_ldap="enable"<% end -%>
<%if @enable_glue1 == "true" then -%>
## infosys_glue12 - Enables GLUE 1.2/1.3
infosys_glue12="enable"<% end -%>
bdii_debug_level="INFO"
bdii_run_dir="/var/run/arc/bdii"

<%if @enable_glue1 == "true" then -%>
##TODO: add them to config parameters
[infosys/glue12]
resource_location="Bristol, UK"
resource_latitude=51.4585
resource_longitude=-02.6021
cpu_scaling_reference_si00=2400
processor_other_description="Cores=4,Benchmark=7.46-HEP-SPEC06"
glue_site_web="http://www.bris.ac.uk/physics/research/particle/"
glue_site_unique_id="UKI-SOUTHGRID-BRIS-HEP"
provide_glue_site_info="true"<% end -%>

[infosys/admindomain]
name="<%= domain_name %>"

[cluster]
cluster_alias="<%= cluster_alias %>"
comment="<%= cluster_comment %>"
homogeneity="True"
architecture="adotf"
nodeaccess="inbound"
nodeaccess="outbound"

<%if @lrms == "fork" -%>
[queue/fork]
name="fork"
fork_job_limit="cpunumber"
homogeneity="True"
scheduling_policy="FIFO"
comment="This queue is nothing more than a fork host"
nodecpu="adotf"
architecture="adotf"<% end -%>
